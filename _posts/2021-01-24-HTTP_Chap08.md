---
layout: post
title: HTTP 완벽 가이드 8장. 통합점: 게이트웨이, 터널, 릴레이
summary: HTTP 완벽 가이드
author: devhtak
date: '2021-01-24 22:41:00 +0900'
category: HTTP 완벽 가이드
---

#### 0. 들어가기

- 게이트웨이: 서로 다른 프로토콜과 애플리케이션 간의 HTTP 인터페이스다.
- 애플리케이션 인터페이스: 서로 다른 형식의 웹 애플리케이션이 통신하는 데 사용한다.
- 터널: HTTP 커넥션을 통해서 HTTP가 아닌 트래픽을 전송하는 데 사용한다.
- 릴레이: 일종의 단순한 HTTP 프락시로, 한 번에 한 개의 홉에 데이터를 전달하는 데 사용한다.

#### 8.1 게이트웨이

- 리소스와 애플리케이션을 연결하는 역할을 한다.
  - 애플리케이션은 게이트웨이에게 요청을 처리해달라고 할 수 있고(HTTP 혹은 그 밖의 정의해 둔 인터페이스를 통해), 게이트웨이는 그에 응답할 수 있다.
- 게이트웨이는 요청을 받고 응답을 보내는 포털 같이 동작하는데, 동적인 콘텐츠를 생성하거나 데이터베이스에 질의를 보낼 수 있다.
  ```
  // HTTP/FTP 서버 측 FTP 게이트웨이
  HTTP 클라인트 <-> 게이트웨이 <-> FTP 서버
  // HTTPS//HTTP 클라이언트 측 보안 게이트웨이
  HTTPS 클라인트 <-> 게이트웨이 <-> 웹 서버
  // HTTP/CGI 서버 측 애플리케이션 게이트웨이
  HTTP 클라인트 <-> 웹 서버 <-> 프로그램  
  ```
  
- 클라이언트 측 게이트웨이와 서버 측 게이트웨이
  - 게이트웨이는 클라이언트 측 프로토콜과 서버 측 프로토콜을 빗금(/)으로 구분해 기술한다.
    - <클라이언트 프로토콜>/<서버 프로토콜>

- 프로토콜 게이트웨이
  - 프락시에 트래픽을 바로 보내는 것과 같이 게이트웨이에도 HTTP 트래픽을 바로 보낼 수 있다.
  
  - HTTP/*: 서버 측 웹 게이트웨이
    - 서버 측 웹 게이트웨이는 클라이언트로부터 HTTP 요청이 원 서버 영역으로 들어오는 시점에 클라이언트 측의 HTTP 요청을 외래 프로토콜로 전환한다.
    - HTTP/FTP 게이트웨이 역할
      - USEr와 PASS 명령을 보내서 서버에 로그인
      - 서버에서 적절한 디렉터리로 변경하기 위해 CWD 명령을 내린다.
      - 다운로드 형식을 ASCII로 설정한다.
      - MDTM으로 문서의 최근 수정 시간을 가져온다.
      - PASV로 서버에게 수동형 데이터 검색을 하겠다고 말한다.
      - RETR로 객체를 검색한다.
      - 제어 채널에서 반환된 포트로 FTP 서버에 데이터 커넥션을 맺는다. 데이터 채널이 열리는 대로, 객체가 게이트웨이로 전송
      
  - HTTP/HTTPS: 서버 측 보안 게이트웨이
    - HTTP 클라이언트의 요청을 게이트웨이는 자동으로 사용자의 모든 세션을 암호화하여 보안 웹서버에게 전달한다.
    - HTTP 클라이언트 <-> HTTP/HTTPS 인바운드 보안 게이트웨이 <-> 보안 웹 서버
    
  - HTTPS/HTTP: 클라이언트 측 보안 가속 게이트웨이
    - 해당 게이트웨이는 보안 HTTPS 트래픽을 받아서 복호화하고, 웹 서버로 보낼 일반 HTTP 요청을 만든다.
    - 브라우저(SSL(HTTPS)를 통한 HTTP) <-> HTTPS/HTTP 보안 가속 게이트웨이 <-> 웹 서버
    
#### 8.3 리소스 게이트웨이

- 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
